//
//  MasterViewController.m
//  SplitView
//
//  Created by Adar Porat on 3/27/11.
//  Copyright 2011 Kosher Penguin LLC. All rights reserved.
//

#import "MasterViewController.h"
#import "AppDelegate.h"
#import "DetailsViewController.h"

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
@implementation MasterViewController


///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark -
#pragma mark UIViewController


///////////////////////////////////////////////////////////////////////////////////////////////////
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil {
	if ((self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil])) {
		self.title = @"Master";
    
    self.contentSizeForViewInPopover = CGSizeMake(320.0, 600.0);
  }
  
	return self;
}

///////////////////////////////////////////////////////////////////////////////////////////////////
// TTModelViewController


///////////////////////////////////////////////////////////////////////////////////////////////////
- (void)createModel {
  self.dataSource = [TTSectionedDataSource dataSourceWithObjects:
                  
                     @"General",
                     [TTTableTextItem itemWithText:@"Link 1" URL:@"link"],
                     [TTTableTextItem itemWithText:@"Link 2" URL:@"link2"],
        
                     
                     nil];
}

///////////////////////////////////////////////////////////////////////////////////////////////////
- (void)didSelectObject:(id)object atIndexPath:(NSIndexPath *)indexPath {
  AppDelegate* appDelegate = [[UIApplication sharedApplication] delegate];

  TTTableTextItem* item = object;
  
  if (TTIsPad()) {
    [appDelegate.detailsController setItem:item.text];
  } else {
    [appDelegate.detailsController setItem:item.text];
    [appDelegate.masterNavController pushViewController:appDelegate.detailsController animated:YES];
  }
  
  [self.tableView deselectRowAtIndexPath:indexPath animated:YES];
}



///////////////////////////////////////////////////////////////////////////////////////////////////
- (void)viewDidLoad {
  [super viewDidLoad];
  
}


///////////////////////////////////////////////////////////////////////////////////////////////////
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
  return YES;
}




///////////////////////////////////////////////////////////////////////////////////////////////////
- (void)dealloc {
	[super dealloc];
}


@end
